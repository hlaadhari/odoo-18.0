<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">
        
        <!-- Fonction pour créer la structure d'emplacements STEG -->
        <function model="stock.location" name="create_steg_location_structure"/>
        
        <!-- Emplacement racine STEG -->
        <record id="stock_location_steg_root" model="stock.location">
            <field name="name">STEG</field>
            <field name="usage">view</field>
            <field name="location_id" ref="stock.stock_location_locations"/>
        </record>

        <!-- Emplacement Division Télécom -->
        <record id="stock_location_telecom" model="stock.location">
            <field name="name">TELECOM</field>
            <field name="usage">internal</field>
            <field name="location_id" ref="stock_location_steg_root"/>
            <field name="steg_division_id" ref="division_telecom"/>
            <field name="steg_location_type">main</field>
            <field name="steg_access_level">division_only</field>
            <field name="steg_capacity">100.0</field>
            <field name="steg_security_level">high</field>
        </record>

        <!-- Emplacement Division Téléconduite -->
        <record id="stock_location_teleconduite" model="stock.location">
            <field name="name">TELECONDUITE</field>
            <field name="usage">internal</field>
            <field name="location_id" ref="stock_location_steg_root"/>
            <field name="steg_division_id" ref="division_teleconduite"/>
            <field name="steg_location_type">main</field>
            <field name="steg_access_level">division_only</field>
            <field name="steg_capacity">80.0</field>
            <field name="steg_security_level">high</field>
        </record>

        <!-- Emplacement Division SCADA -->
        <record id="stock_location_scada" model="stock.location">
            <field name="name">SCADA</field>
            <field name="usage">internal</field>
            <field name="location_id" ref="stock_location_steg_root"/>
            <field name="steg_division_id" ref="division_scada"/>
            <field name="steg_location_type">main</field>
            <field name="steg_access_level">division_only</field>
            <field name="steg_capacity">90.0</field>
            <field name="steg_security_level">high</field>
        </record>

        <!-- Emplacement Pièces Communes -->
        <record id="stock_location_commune" model="stock.location">
            <field name="name">COMMUNS</field>
            <field name="usage">internal</field>
            <field name="location_id" ref="stock_location_steg_root"/>
            <field name="steg_division_id" ref="division_commune"/>
            <field name="steg_location_type">main</field>
            <field name="steg_access_level">public</field>
            <field name="steg_capacity">150.0</field>
            <field name="steg_security_level">medium</field>
        </record>

        <!-- Mise à jour des divisions avec leurs emplacements -->
        <record id="division_telecom" model="steg.division">
            <field name="location_id" ref="stock_location_telecom"/>
        </record>

        <record id="division_teleconduite" model="steg.division">
            <field name="location_id" ref="stock_location_teleconduite"/>
        </record>

        <record id="division_scada" model="steg.division">
            <field name="location_id" ref="stock_location_scada"/>
        </record>

        <record id="division_commune" model="steg.division">
            <field name="location_id" ref="stock_location_commune"/>
        </record>

        <!-- Sous-emplacements pour chaque division -->
        
        <!-- Télécom - Sous-emplacements -->
        <record id="stock_location_telecom_atelier" model="stock.location">
            <field name="name">Atelier</field>
            <field name="usage">internal</field>
            <field name="location_id" ref="stock_location_telecom"/>
            <field name="steg_division_id" ref="division_telecom"/>
            <field name="steg_location_type">workshop</field>
            <field name="steg_access_level">division_only</field>
        </record>

        <record id="stock_location_telecom_bureau" model="stock.location">
            <field name="name">Bureau</field>
            <field name="usage">internal</field>
            <field name="location_id" ref="stock_location_telecom"/>
            <field name="steg_division_id" ref="division_telecom"/>
            <field name="steg_location_type">office</field>
            <field name="steg_access_level">division_only</field>
        </record>

        <!-- Téléconduite - Sous-emplacements -->
        <record id="stock_location_teleconduite_atelier" model="stock.location">
            <field name="name">Atelier</field>
            <field name="usage">internal</field>
            <field name="location_id" ref="stock_location_teleconduite"/>
            <field name="steg_division_id" ref="division_teleconduite"/>
            <field name="steg_location_type">workshop</field>
            <field name="steg_access_level">division_only</field>
        </record>

        <record id="stock_location_teleconduite_bureau" model="stock.location">
            <field name="name">Bureau</field>
            <field name="usage">internal</field>
            <field name="location_id" ref="stock_location_teleconduite"/>
            <field name="steg_division_id" ref="division_teleconduite"/>
            <field name="steg_location_type">office</field>
            <field name="steg_access_level">division_only</field>
        </record>

        <!-- SCADA - Sous-emplacements -->
        <record id="stock_location_scada_atelier" model="stock.location">
            <field name="name">Atelier</field>
            <field name="usage">internal</field>
            <field name="location_id" ref="stock_location_scada"/>
            <field name="steg_division_id" ref="division_scada"/>
            <field name="steg_location_type">workshop</field>
            <field name="steg_access_level">division_only</field>
        </record>

        <record id="stock_location_scada_bureau" model="stock.location">
            <field name="name">Bureau</field>
            <field name="usage">internal</field>
            <field name="location_id" ref="stock_location_scada"/>
            <field name="steg_division_id" ref="division_scada"/>
            <field name="steg_location_type">office</field>
            <field name="steg_access_level">division_only</field>
        </record>

    </data>
</odoo>